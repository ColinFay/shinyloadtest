<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Load Test Shiny Applications • shinyloadtest</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Load Test Shiny Applications">
<meta property="og:description" content="shinyloadtest provides functions for recording user sessions, 
    playing those sessions back in parallel to simulate load, and analzying
    the results.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">shinyloadtest</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/analyzing-load-test-logs.html">Analyzing Load Test Logs</a>
    </li>
    <li>
      <a href="articles/case-study.html">Case Study</a>
    </li>
    <li>
      <a href="articles/load-testing-authenticated-apps.html">Load Testing Authenticated Apps</a>
    </li>
    <li>
      <a href="articles/performance-settings-in-rstudio-connect-or-shiny-server-pro.html">Performance Settings in RStudio Connect or Shiny Server Pro</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
    <div id="load-testing-shiny-applications" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#load-testing-shiny-applications" class="anchor"></a>Load Testing Shiny Applications</h1></div>
<p>The <code>shinyloadtest</code> package and the accompanying <code>shinycannon</code> software enable load testing deployed shiny applications.</p>
<p>Load tests ensure that deployed Shiny applications are ready for mission critical tasks. Load testing helps identify performance bottlenecks (before users do!), test <a href="https://rstudio.github.io/promises">asynchronous Shiny code</a>, and identify optimal scaling settings or server specs (e.g. the necessary cpu and RAM to support an expected audience).</p>
<p>Just as importantly, load testing can squash the commnon concern that Shiny doesn’t scale. In fact, we used these load testing tools to prove that more than 10,000 users could access a Shiny application at same time!</p>
<p><a href="https://www.rstudio.com/resources/videos/scaling-shiny/?wvideo=mx214xmcqw"><img src="https://embedwistia-a.akamaihd.net/deliveries/97390a2a0512c2f959b37e3e91b0d9c81e3023c5.jpg?image_play_button_size=2x&amp;image_crop_resized=960x540&amp;image_play_button=1&amp;image_play_button_color=4287c7e0" width="400" height="225" style="width: 400px; height: 225px;"></a></p>
<p><a href="https://www.rstudio.com/resources/videos/scaling-shiny/?wvideo=mx214xmcqw">Scaling Shiny – RStudio</a></p>
<p>To get started with <code>shinyloadtest</code>, read through the quick start guide below. Additional resources include details of <code>shinyloadtest</code>’s log format, a case study showing how to interpret load test results, an overview of using <code>shinyloadtest</code> with authenticated apps, and a description of how to use <code>shinyloadtest</code> to determine runtime settings in RStudio Connect or Shiny Server Pro.</p>
<div id="quick-start" class="section level2">
<h2 class="hasAnchor">
<a href="#quick-start" class="anchor"></a>Quick Start</h2>
<p>The process for load testing a Shiny application consists of three steps:</p>
<ol>
<li><p>Record a typical user session for the app</p></li>
<li><p>Replay the session in parallel, simulating many simultaneous users accessing the app</p></li>
<li><p>Analyze the results of the load test</p></li>
</ol>
<p>Rinse and repeat as necessary. Each step is described below.</p>
<div id="step-1-recording" class="section level3">
<h3 class="hasAnchor">
<a href="#step-1-recording" class="anchor"></a>Step 1: Recording</h3>
<p>First, install the <code>shinyloadtest</code> package. The package is not currently on CRAN, but can be installed with <code>devtools</code>:</p>
<pre><code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github('shinyloadtest')</a></code></pre>
<p>The <code>shinyloadtest</code> package contains one essential function, <code>recordSession</code>. The primary argument to <code>recordSession</code> is the URL of the <strong>deployed</strong> application,</p>
<p>//TODO</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">shinyloadtest<span class="op">::</span><span class="kw">recordSession</span>(<span class="st">'https://beta.rstudioconnect.com/)</span></a></code></pre></div>
<p>Running the function will open a browser displaying the app. Once open, interact with the application as a normal user would and then close the browser. After closing the browser, a file will be created that contains a recording of the session. This recording, written to <code>recording.log</code> will serve as the basis for the load test.</p>
</div>
<div id="step-2-run-the-load-test" class="section level3">
<h3 class="hasAnchor">
<a href="#step-2-run-the-load-test" class="anchor"></a>Step 2: Run the Load Test</h3>
<p>With the recording in hand, we’re almost ready to run the load test. The actual test is conducted outside of R using a standalone executable called <code>shinycannon</code>. <code>shinycannon</code> can be installed for <a href="">Mac</a>, <a href="">Windows</a>, or <a href="">Ubuntu</a>. <code>shinycannon</code> requires Java, see these <a href="">instructions</a> for details.</p>
<p>Once installed, <code>shinycannon</code> can be used from the command line to execute a load test using the recording file created in step 1. The main arguments to <code>shinycannon</code> are:</p>
<ul>
<li><p>** **: The number of concurrent users to simulate. <code>shinycannon</code> uses separate parallel threads to represent each user.</p></li>
<li><p>** **: The duration of the load test. <code>shinycannon</code> will re-run the recording as necessary to meet the specified duration. For example, if the recording is 5 minutes long, but the desired test duration is 18 minutes, <code>shinycannon</code> will have each “user” repeat the session 4 times.</p></li>
</ul>
<p>As an example, to run a load test simulating 100 concurrent users:</p>
<p>//TODO</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="ex">shinycannon</span> </a></code></pre></div>
<p><code>shinycannon</code> includes detailed help documentation explaining the other arguments, available by running:</p>
<p>//TODO</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"></code></pre></div>
<p>During the test, <code>shinycannon</code> will report the progress and number of simulated users. The result of the test is an output directory, <code>//TODO</code> by default, which includes timing information for each session.</p>
</div>
<div id="step-3-analyze-the-results" class="section level3">
<h3 class="hasAnchor">
<a href="#step-3-analyze-the-results" class="anchor"></a>Step 3: Analyze the Results</h3>
<p>The output directory created in step 2 is the focus of step 3. The <code>shinyloadtest</code> R package provides functions for analyzing the output files from the test.</p>
<p>As a simple example, we can create a tidy dataframe with the test results and look at a few sample plots.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="op">/</span><span class="er">/</span>TODO</a></code></pre></div>
</div>
</div>
<div id="limitations" class="section level2">
<h2 class="hasAnchor">
<a href="#limitations" class="anchor"></a>Limitations</h2>
<p>The load testing tool will not be able to record and load test applications if they:</p>
</div>
</div>
  </div>

  <div class="col-md-3" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="NA">NA</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Alan Dipert <br><small class="roles"> Author, maintainer </small>  </li>
<li>Barbara Borges <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Alan Dipert, Barbara Borges.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
